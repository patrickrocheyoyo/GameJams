// Script assets have changed for v2.3.0 see
// https://help.yoyogames.com/hc/en-us/articles/360005277377 for more information



global.Room1Jokes =[

new Joke( "What do you call a fish wearing a bowtie?",["Sofishticated","Fish Fingers","Fred"], 120),
new Joke( "What did the ocean say to the beach?", ["Nothing, it just waved.","Swoosh","Sand to meet you"], 120),


new Joke( "SpawnTrapdoor", [], 120),

new Joke( "I was startled by a pig in a shrub", ["It was an hambush", "bacon", "berries"], 120),


new Joke( "", [], -1),
];

global.Room2Jokes =[

new Joke("Why was the clown wearing suspenders ...,",["To keep his trousers up","His Sense of Style.","Fashion. Look it up.","N- I, uhm-"], 120),
new Joke( "A termite walks into a bar...",["He asks, 'is the bartender?'","Why the long face?","Ouch!"], 120),

new Joke("What do you get if you cross a bear, a lion and a tiger?",["Really angry animals!","A letter from the government.","Childhood Trauma.","RIP Harambe."], 120),
new Joke( "SpawnTrapdoor", [], 120),

new Joke("A man walks into a bar...",["He says, 'Ouch!'","Do you like cheese?","What's this even doing here?","This isn't the answer."], 120),


new Joke( "", [], -1),
];

global.AllJokes =[
new Joke("I was startled by a pig in a shrub...",["It was an hambush","Uh- Pork Shrub!","Berry bush!","Help me!"], 120),
new Joke("Why was the clown wearing suspenders ...",["To keep his trousers up","His Sense of Style.","Fashion. Look it up.","N- I, uhm-"], 120),
new Joke("A termite walks into a bar...",["He asks, 'is the bartender?'","He asks- bartender-","Why the long face?","Ouch!"], 120),
new Joke("A man walks into a bar...",["He says, 'Ouch!'","Do you like cheese?","What's this even doing here?","This isn't the answer."], 120),
new Joke("What do you get if you cross a bear, a lion and a tiger?",["Really angry animals!","Slightly upset nuns","Childhood Trauma.","A trip to the hospital."], 120),
new Joke("How did the Geologist introduce herself?",["Gneiss to meet you!","I'm funny - pumice!","Er- Rocks!","Hello how do you do."], 120),
new Joke("What's a pirates favourite letter?",["Sea","The Dee.","Sails?","The dichotomy of good and evil"], 120),
new Joke("Why do pirates like to go shopping?",["The sails","Sea!","It's a group activity","Parots?"], 120),
new Joke("I'm afraid for the calendar.",["It's days are numbered.","The onwards march of time?","Uh...","To get to the other side."], 120),
new Joke("What's a wind turbines favorite musical genre?",["They're huge metal fans.","Blues.","Hardcore Belgian Trance.","Sushi?"], 120),
new Joke("Have you heard the one about the chocolate headphones?",["They sounds pretty sweet!","They're melty.","They're impractical.","Wait, no. Chocolate teapot?"], 120),
new Joke("I only ever learned 25 letters of the alphabet.",["I don't know Y.","My education was lacking.","Sails?","Solve for X."], 120),
new Joke("What's the best thing about Switzerland?",["The flag is a big plus!","Corporate tax rates.","The wine.","All the holes in the cheese."], 120),
new Joke("What does a sprinter eat before a race?",["Nothing! They just fast.","Carbloading is important.","Beans.","Fast food."], 120),
new Joke("What did Zero say to Eight?",["That belt looks good on you!","Sorry, numbers aren't letters...","Seven ate nine!","Sails?"], 120),
new Joke("I don't trust stairs...",["They're always up to something.","Which is why I take the lift.","They will betray you.","I have rust tissues."], 120),
new Joke("Why can't a nose be 12 inches long?",["Because then it'd be a foot.","Human biological limitations.","Nobody knows.","Because that's just too big."], 120),
new Joke("What kind of car does an egg drive?",["A Yolkswagon.","An egg cart.","Eggsactly!","Eggstatic."], 120),
new Joke("What do you call a pencil with two erases?",["Pointless.","An eraser.","Impractical.","Please help."], 120),
new Joke("Did you hear the inventor of the Knock Knock joke?",["They won the No-bell Prize.","No? Same...","Ding dong!","Chap and run!"], 120),
new Joke("I've got a great joke about construction...",["But I'm still working on it.","GameMaker only added structs recently.","I'm building to it.","It's not OSHA compliant."], 120),
new Joke("What did the vet say to the cat?",["How're you feline?","Woof woof!","Moo moo!","What's wrong with your face?"], 120),
new Joke("What's a computers favorite snack?",["Computer Chips!","An hour of my work, randomly.","Thermal paste.","Computers can't eat. Yet."], 120),
new Joke("What do you call a fake noodle?",["Im-pasta.","Larceny.","Sails?","Faux-tacini."], 120),
new Joke("What do you call two monkys with an Amazon account?",["Prime Mates.","Support local businesses.","Next day buddies.","Gorillias in the missed delivery."], 120),
new Joke("You can't make a dad joke while not being a dad.",["It's a faux pa.","Comedy is subjective.","One liners should be banned.","There are 100 jokes in this list."], 120),
new Joke("I could tell you a joke about pizza...",["But it's a little cheesy!","But it's a little pepperoni.","But it's a little pineapple.","But it's a little onion."], 120),
new Joke("What's the best way to watch a fly fishing tournament?",["A live stream!","Slowly!","Down stream!","Re-streamed."], 120),
new Joke("Never buy anything with velcro in it.",["It's a total rip off.","It's a total fob off.","It's a total waste of money.","Sushi?"], 120),
new Joke("What's an astronaut's favorite part of the computer?",["The space bar!","The screen.","The engine.","The task bar."], 120),
new Joke("What do you call a can opener that doesn't work?",["A can't opener.","Broken.","Eugene.","The 1993 Denver Broncos."], 120),
new Joke("Is there anything worse than it raining cats and dogs?",["Yes! Hailing Taxies!","No! That's as bad as it gets.","Yes! Falling trucks.","Yes! Snowing beanbag chairs."], 120),
new Joke("What do you call a cat with eight legs?",["An octopuss!","An octopuss!","A tetrapuss!","A centipuss!"], 120),
new Joke("What do you call a pig that can use a knife?",["A pork chop.","A pork stab.","A pork threat.","Ham from HEMA."], 120),
new Joke("I don't trust trees...",["They just seem shady.","Too wooden.","Too leafy.","No, wait- uh-"], 120),
new Joke("My manager told me to have a good day...",["So I didn't go in to work.","Attempts to get you back into","the office are there to","control you."], 120),
new Joke("Did you hear about the runner that was afraid of hurdles?",["They got over it.","They found a new hobby.","Cratephobia is no laughing matter.","They ran for it."], 120),
new Joke("Have you ever had bad sausage?",["It's the wurst!","Absolute toilet mayhem.","It's the worst!","It's pretty bad."], 120),
new Joke("What did the earthquake say when it was done?" ,["Oops, my fault.","Geology can't speak.","Rumble!","Oh the humanity."], 120),
new Joke("What do you give the dentist of the year?",["A little plaque.","Dentures.","Chompers.","A good, firm handshake."], 120),
new Joke("When is a door not a door?",["When it's ajar.","When it's fallen over.","When it's unhinged.","Sails?"], 120),
new Joke("I got this broken guitar on a great deal!",["There were no string attached.","It's second hand.","It's out of tune.","It just sucks."], 120),
new Joke("What do you call a fish with know eyes?",["Fsh.","Ffffffffff","Sssssss","hhhhhhhhh"], 120),
new Joke("What do you call a cow with two legs?",["Lean beef.","Stumpy.","Tilty.","Unfortunate."], 120),
new Joke("What do you call a bear with no teeth?",["A gummy bear.","Still frightening.","it's still got it's claws.","Oh god! A bear!"], 120),
new Joke("What's orange and sounds like a parrot?",["A carrot.","A merlot.","A parrot.","A spiggot."], 120),
new Joke("Why do nurses like red crayons?",["Sometimes they have to draw blood.","Sometimes... they... Uhm.","Red tomatoes!","Redrum! Redrum!"], 120),
new Joke("Why did the cowboy get a wiener dog?",["They wanted to get a long, little doggie.","They wanted a small dog.","They wanted a hotdog.","They wanted to get along."], 120),
new Joke("What do you call a cow with no legs?",["Ground beef.","Even more unfortunate.","Very stumpy.","Even more tilty."], 120),
new Joke("What's the worst kind of joke for a balloon?",["Pop music.","Hardcore gangsta rap.","Progressive trance.","lofi beats to study or relax to"], 120),
new Joke("Why wouldn't you play poker in the jungle?",["Too many cheetahs.","Too many sharks.","Too many tigers.","Lack of suitable tables."], 120),
new Joke("Why are fish so smart?",["Because they swim in schools.","Fish are tasty.","Fishie fish fish.","School catchment areas."], 120),
new Joke("Why did the employee lose their job at the keyboard factory?",["They kept missing shifts.","Too many Z's.","FORCED ON CAPSLOCK.","What even is num lock?"], 120),
new Joke("Where did the two walls meet?",["At the corner.","At the bowling alley.","At the correct time.","In the space between spaces."], 120),
new Joke("Dunno if you've noticed but I love bad puns.",["It's just how eye-roll.","That's just how I am.","None may judge me.","Comedy is subjective."], 120),
new Joke("What do you call a herd of sheep falling down a hill?",["A lamb-slide.","Ramming speed!","Ram jammed."], 120),
new Joke("You hear about the lying cheese?",["it un-brie-lievable","Edam","Hurtful","Burger"], 120),
new Joke("You can make cheese from beavers",["They make Edam","Brie","a Dam","Boooo"], 120),
new Joke("What did one eye say to the other?",["Between you and me something smells","*blink*","I can't see","Eye eye captain"], 120),
];


function add_jokes_to_book(jokes)
{
	for(var i = 0; i < array_length(jokes); ++i)
	{
		array_push(global.joke_book, { text: jokes[@i].jk, punchline: undefined });
	}
}

function record_joke(joke, punchline)
{
	for(var i = 0; i < array_length(global.joke_book); ++i)
	{
		if(global.joke_book[@i].text == joke)
		{
			global.joke_book[@i].punchline = punchline;
			break;
		}
	}
}

function save_jokes()
{
	var data = [];
	
	for(var i = 0; i < array_length(global.joke_book); ++i)
	{
		if(!is_undefined(global.joke_book[@i].punchline))
		{
			array_push(data, [ global.joke_book[@i].text, global.joke_book[@i].punchline ]);
		}
	}
	
	var buf = buffer_create(1, buffer_grow, 1);
	buffer_write(buf, buffer_text, json_stringify(data));
	buffer_save(buf, "jokebook.json");
	buffer_delete(buf);
}

function load_jokes()
{
	var buf = buffer_load("jokebook.json");
	if(buf == -1)
	{
		return;
	}
	
	var data = json_parse(buffer_read(buf, buffer_text));
	buffer_delete(buf);
	
	for(var i = 0; i < array_length(data); ++i)
	{
		record_joke(data[@i][@0], data[@i][@1]);
	}
}

global.joke_book = [];

add_jokes_to_book(global.Room1Jokes);
add_jokes_to_book(global.Room2Jokes);

load_jokes();
